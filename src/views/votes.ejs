<%- include('layout') %>

<div class="container mt-5">
  <h1 class="text-center">Ovozlar</h1>
  <ul class="list-group mt-4">
    <% articles.forEach(article => { %>
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <span><%= article.title %></span>
        <span>
          <button
            class="btn btn-success btn-sm"
            onclick="window.location.href='/votes/upvote?articleId=<%= article._id %>'"
          >
            👍 <%= article.votes %>
          </button>
          <button
            class="btn btn-danger btn-sm"
            onclick="window.location.href='/votes/downvote?articleId=<%= article._id %>'"
          >
            👎
          </button>
        </span>
      </li>
    <% }) %>
  </ul>
</div>
<div class="text-center mt-4">
  <p>Bizning platformamizda maqola yozing, baholang va fikr almashing!</p>
  <a href="/" class="btn btn-primary btn-lg">Bosh sahifaga qaytish</a>
</div>
<script>
  // JavaScript kodlari
  document.addEventListener('DOMContentLoaded', function () {
    const upvoteButtons = document.querySelectorAll('.btn-success');
    const downvoteButtons = document.querySelectorAll('.btn-danger');

    upvoteButtons.forEach(button => {
      button.addEventListener('click', function () {
        // Ovoz berish jarayoni
        alert('Ovoz berildi!');
      });
    });

    downvoteButtons.forEach(button => {
      button.addEventListener('click', function () {
        // Ovoz berish jarayoni
        alert('Ovoz berildi!');
      });
    });
  });
</script>
